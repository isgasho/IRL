// Test Operator Strength Reduction
// This is the example in the original paper

fn @sum_four($n: i32) -> i32 {
%Init:
    $s.0 <- mov i32 0 // s = 0
    $i.0 <- mov i32 0 // i = 0
    jmp %Cond
%Cond:
    $s.1 <- phi i32 [%Init: $s.0] [%Loop: $s.2]
    $i.1 <- phi i32 [%Init: $i.0] [%Loop: $i.2]
    $e <- mul i32 $i.1, 4
    $c <- lt i32 $i.1, $n // i < n
    br $c ? %Loop : %End
%Loop:
    $s.2 <- add i32 $s.1, $e
    $i.2 <- add i32 $i.1, 1
    jmp %Cond
%End:
    ret $s.1
}